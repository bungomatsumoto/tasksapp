<%= form_with(model: @task, local: true ) do |f| %>

  <% if @task.errors.any? %>
    <div id="error_explanation">
      <% @task.errors.full_messages.each do |msg| %>
        <p><%= msg %></p>
      <% end %>
    </div>
  <% end %>

  <div class="task_fill">
    <%= f.label :title %><br>
    <%= f.text_field :title %>
  </div>

  <div class="task_fill">
    <%= f.label :explanation %><br>
    <%= f.text_area :explanation %>
  </div>

  <div class="task_fill">
    <%= f.label :deadline %><br>
    <%= f.text_field :deadline %>
  </div>

  <div class="task_fill">
    <%= f.label :status %><br>
    <%= f.select :status, Task.statuses.map { |k,v| [t("enums.task.status.#{k}"), k] }  %>
  </div>

  <div class="task_fill">
    <%= f.label :priority %><br>
    <%= f.select :priority, Task.priorities.map { |k,v| [t("enums.task.priority.#{k}"), k] }  %>
  </div>

  <div class="">
    <%= f.label :label %><br>
    <% Label.all.each do |l| %>
      <%= f.check_box :label_ids, { multiple: true, checked: l[:checked], disabled: l[:disabled], include_hidden: false }, l[:id] %><%= l.name %>
    <% end %>
  </div>

    <div class="button"><%= f.submit %></div>
<% end %>
